## 作者：月伴飞鱼

链接：https://www.nowcoder.com/discuss/594676
来源：牛客网

## 一面

1.synchronized原理，怎么保证可重入性，可见性，抛异常怎么办，和lock锁的区别，2个线程同时访问synchronized的静态方法，2个线程同时访问一个synchronized静态方法和非静态方法，分别怎么进行

>  

 2.volatile作用，原理，怎么保证可见性的，内存屏障 

> 

 3.你了解那些锁，乐观锁和悲观锁，为什么读要加锁，乐观锁为什么适合读场景，写场景不行么，会有什么问题，cas原理 

> 

 4.什么情况下产生死锁，怎么排查，怎么解决 

> 

 5.一致性hash原理，解决什么问题，数据倾斜，为什么是2的32次方，20次方可以么 

>

 6.[redis]()缓存穿透，布隆过滤器，怎么使用，有什么问题，怎么解决这个问题 

> 

 7.[redis]()分布式锁，过期时间怎么定的，如果一个业务执行时间比较长，锁过期了怎么办，怎么保证释放锁的一个原子性，你们[redis]()是集群的么，讲讲redlock[算法]() 

> 

 8.mysql事务，acid，实现原理，脏读，脏写，隔离级别，实现原理，mvcc，幻读，间隙锁原理，什么情况下会使用间隙锁，锁失效怎么办，其他锁了解么，行锁，表锁 

> 

 9.mysql索引左前缀原理，怎么优化，哪些字段适合建索引，索引有什么优缺点 

> 

 10.线上遇到过慢查询么，怎么定位，优化的，explain，using filesort表示什么意思，产生原因，怎么解决 

> 

 11.怎么理解幂等性，有遇到过实际场景么，怎么解决的，为什么用[redis]()，[redis]()过期了或者数据没了怎么办

> 

## 二面 

 1.hashmap原理，put和get，为什么是8转[红黑树]()，[红黑树]()节点添加过程，什么时候扩容，为什么是0.75，扩容步骤，为什么分高低位，1.7到1.8有什么优化，hash[算法]()做了哪些优化，头插法有什么问题，为什么线程不安全 

> 

 2.arraylist原理，为什么数组加transient，add和get时间复杂度，扩容原理，和linkedlist区别，原理，分别在什么场景下使用，为什么 

> 

 3.了解哪些并发工具类 

> 

 4.reentrantlock的实现原理，加锁和释放锁的一个过程，aqs，公平和非公平，可重入，可中断怎么实现的 

> 

 5.concurrenthashmap原理，put，get，size，扩容，怎么保证线程安全的，1.7和1.8的区别，为什么用synchronized，分段锁有什么问题，hash[算法]()做了哪些优化 

> 

 6.threadlocal用过么，什么场景下使用的，原理，hash冲突怎么办，扩容实现，会有线程安全问题么，内存泄漏产生原因，怎么解决 

> 

 7.垃圾收集[算法]()，各有什么优缺点，gc roots有哪些，什么情况下会发生full gc 

> 

 8.了解哪些设计模式，工厂，策略，装饰者，桥接模式讲讲，单例模式会有什么问题 

> 

 9.对spring aop的理解，解决什么问题，实现原理，jdk动态代理，cglib区别，优缺点，怎么实现方法的调用的 

> 

 10.mysql中有一个索引(a,b,c)，有一条sql，where a = 1 and b > 1 and c =1;可以用到索引么，为什么没用到，B+树的结构，为什么不用[红黑树]()，B树，一千万的数据大概多少次io 

> 

 11.mysql聚簇索引，覆盖索引，底层结构，主键索引，没有主键怎么办，会自己生成主键为什么还要自定义主键，自动生成的主键有什么问题 

> 

 12.[redis]()线程模型，单线程有什么优缺点，为什么单线程能保证高性能，什么情况下会出现阻塞，怎么解决 

> 

 13.kafka是怎么保证高可用性的，讲讲它的设计架构，为什么读写都在主分区，这样有什么优缺点 

> 

 了解DDD么，不是很了解 

> 

 你平时是怎么学习的 

> 

 [项目]()介绍



## 三面 

 1.线程有哪些状态，等待状态怎么产生，死锁状态的变化过程，中止状态，interrupt()方法 

> 

 2.你怎么理解线程安全，哪些场景会产生线程安全问题，有什么解决办法 

> 

 3.mysql多事务执行会产生哪些问题，怎么解决这些问题 

> 

 4.分库分表做过么，怎么做到不停机扩容，双写数据丢失怎么办，跨库事务怎么解决 

> 

 5.你们用的[redis]()集群么，扩容的过程，各个节点间怎么通信的 

> 

 6.对象一定分配在堆上么，JIT，分层编译，逃逸分析 

> 

 7.es的写入，查询过程，底层实现，为什么这么设计 

> 

 8.es集群，脑裂问题，怎么产生的，如何解决 

> 

 9.while(true)里面一直new thread().start()会有什么问题 

> 

 10.socket了解么，tcp和udp的实现区别，不了解，用的不多 

> 

 11.设计一个秒杀系统能承受千万级并发，如果[redis]()也扛不住了怎么办 

> 

 [项目]()介绍



## 四面 

 1.讲讲你最熟悉的技术，jvm，mysql，[redis]()，具体哪方面 

> 

 2.new Object[100]对象大小，它的一个对象引用大小，对象头结构 

> 

 3.mysql主从复制，主从延时怎么解决 

> 

 4.怎么保证[redis]()和mysql的一致性，[redis]()网络原因执行超时了会执行成功么，那不成功怎么保证数据一致性 

> 

 5.[redis]()持久化过程，aof持久化会出现阻塞么，一般什么情况下使用rdb，aof 

> 

 6.线上有遇到大流量的情况么，产生了什么问题，为什么数据库2000qps就撑不住了，有想过原因么，你们当时怎么处理的 

> 

 7.限流怎么做，如果让你设计一个限流系统，怎么实现 

> 

 8.dubbo和spring cloud区别，具体区别，分别什么场景使用 

> 

 9.给了几个场景解决分布式事务问题 

> 

 [项目]()介绍 

 你觉得你们的业务对公司有什么实际价值，体现在哪，有什么数据指标么

作者：月伴飞鱼
链接：https://www.nowcoder.com/discuss/594676
来源：牛客网



## 五面 

 **hr面完后又来了一面，说是交叉面** 

 1.怎么理解用户态，内核态，为什么要分级别，有几种转换的方式，怎么转换的，转换失败怎么办 

> 

 2.怎么理解异常，它的作用是什么，你们工作中是怎么使用的 

> 

 3.你们用[redis]()么，用来做什么，什么场景使用的，遇到过什么问题，怎么解决的 

> 

 4.jvm元空间内存结构，永久代有什么问题 

> 

 5.你平时开发中怎么解决问题，假如现在线上有一个告警，你的解决思路，过程 

> 

 6.你们为什么要用mq，遇到过什么问题么，怎么就解决的 

> 

 你觉得和友商相比，你们的优势在哪 

> 

 聊天：炒股么，为什么买B站，天天用，看好他

## [阿里云](https://www.nowcoder.com/jump/super-jump/word?word=阿里云)-云原生

### 一面（已过） 

  1.介绍一下RPC[项目]()    

> 

  2.负载均衡了解哪些(dubbo的四种策略说了下)    

> 

3. 一致性哈希比其他方法的优点？（当增加或减少服务节点时，不会造成[哈希表]()的全量重新映射，而是增量式的重新映射）    
    Java里的RMI了解吗？（不太了解）  
    
    > 
    
4. 除了Dubbo，还了解其他RPC框架吗（gRPC, Thirft 有什么区别） 

    > 

5. 除了NIO,还有什么？（BIO AIO） 

    > 

6. 除了Select，还有什么（Poll Epoll，区别是什么）

    > 

7. 容器了解什么（只了解点Docker） 

    > 

8. 给定一个[链表]()，旋转[链表]()，将[链表]()每个节点向右移动 k 个位置，其中 k 是非负数。

    > 

9. LRU 简单谈下怎么实现？（参照LinkedHashMap）

    > 



### **二面（暂时不知道结果）** 

  

1. RPC具体讲一下？    

2.  介绍一下服务注册中心怎么做的?为什么用Zoo[keep]()er做注册中心(优点，与其他选型对比下)     

3. 整体服务调用链路是怎样的？     

4.  JDK动态代理机制是怎么实现的（反射，再底层原理不太清楚）     

5. 负载均衡是怎么做的？     

6.  Dubbo为什么推荐基于随机的负载均衡？     

7.  序列化怎么做的？Kryo原理了解吗？     

8. RPC中是用Spring进行管理的，那用到了事务吗（没有）     

9. 介绍一下你理解的Spring。     

10. 依赖注入有哪写方式？     

11.  为什么选用[Netty]()来做通信框架？   

12. 还知道其他网络通信框架？

13.  能聊聊gRPC和dubbo这两类框架区别？     

14. 有没有考虑过服务治理相关的事情吗（还没有）     

15.  现在微服务的技术发展方向有了解吗     

16.  能聊下TCP吗？  

17. 能大概描述一下HTTP请求的过程？     

18. HTTP提交请求时可以通过Form和JSON来提交的区别？（不太清楚）     

19. Cookie和Session区别聊一下？    

20.  RPC[项目]()中有做单元测试吗？（没有）    

21. 为什么用MyBatis（从与JDBC、Hibernate的区别聊）     

22.  事务隔离级别有了解吗？     

23.    SpringBoot[项目]()中用到事务了吗？（没用到）     

24.   [项目]()中用到查询优化了吗？（用了联合索引）     

25. 建索引基于哪些原则？（最左匹配原则）     

26.  HashMap聊一下？     

27.  Java多线程编程需要注意些什么？     

28.  JVM内存区域能讲一下吗？     

29.  堆里面内存回收大概讲一下？     

30.  有碰到过内存泄漏的问题吗？     

31.  Exception体系聊一下？     

32. Linux熟吗，会shell编程吗？     

33. 平衡树和[红黑树]()区别？     

    

**淘宝-消息中间件团队   一面（凉）**      RPC[项目]()介绍    

1. dubbo不足，以及优化方向？（语言支持）    
2. netty高性能主要依赖了哪些特性？    
3.  netty bytebuf工作原理，和NIO里buffer区别？    
4. 服务注册原理    
5. 负载均衡？    
6.  AQS原理    
7. 两个线程轮流打印     
8.  LRU      

  **[阿里云]()-天基团队   一面（凉）**  介绍一下RPC[项目]()

1. 序列化怎么实现? 
2.  主要是Kryo（两个特点介绍了一下）     
3. 那你这个序列化还是针对Java语言的，如何实现跨语言的序列化或者rpc框架？     
4.  CGLib 底层      
    一个类有方法a和方法b，两个方法都被代理，方法a中调用了方法b，被代理后调用a方法，a方法中调用的是被代理的方法b还是普通方法b？（求大神解答）     
5.  分布式数据一致性协议都知道哪些（2PC 3PC Paxos,raft）      

 6. 知道怎么撑爆方法区内存吗？或者说怎么动态生成很多方法？ （CGlib 动态生成类、方法）     

 private default protected public 权限     

7.  反射可以访问private方法和属性吗？如何访问？     
 通过 setAccessible(true)     
8.  Spring AOP说一下     
9.   AspectJ 原理知道吗。     
10.  Exception的体系？是捕获还是抛出，最佳实践是怎样的？ 
      ![image-20210218142751246](/Users/lumac/Library/Application Support/typora-user-images/image-20210218142751246.png)    
11.  Java线程的状态，状态间怎么转换     
12.   怎么打断一个线程？Thread.interupt()，怎么安全优雅实现    

​       



## 作者：江大踏云

链接：https://www.nowcoder.com/discuss/597560?type=2&channel=1009&source_id=discuss_center_discuss_hot_nctrack
来源：牛客网



2.21号晚上八点 

  面试官很和蔼，我每次不会或者答得不对，他就哈哈哈哈哈大笑 

  笑的我好想找洞钻进去 

  先问实习公司 
 介绍一下公司业务线，详细业务逻辑 
 公司的技术栈，我负责的业务问题功能 
 公司的整体架构（这部分问了我半小时。。。） 
 还问我为啥不找个大厂实习，找了个这样的公司（他说没听过。。。），ps：我倒是想找大厂实习。。。 
 开始问技术 
 讲一下volatile？巴拉巴拉一大堆，内存屏障啥的 
 问volatile不能解决原子性，那怎么解决的？我说加锁。。他大笑。。。 
 然后问我知不知道现在JDK多少版本了？我说至少15了 
 那为什么大多数用JDK8？答：兼容性问题吧，成本问题？ 
 不对，几个版本可以是兼容性问题，但这么多版本过去了，为啥还是JDK8？我盲猜：JDK8售后好？他大笑。。。。 
 说一下JDK8的极大创新。答：lambda表达式，stream流，。。。（后悔答这个了，难受） 
 lambda表达式介绍一下？里面接口有个default，他和抽象类的实现有什么区别？（懵逼~~~） 
 stream流介绍一下，说一下里面的map和flatmap是干啥的 
 说一下JUC，知道哪些？AQS、锁 
  讲一下线程池吧？有哪几种线程池？重要参数？[项目]()中的应用？ 
  咦？你这[项目]()中线程池没必要用啊？（是的，确实没必要，我硬加的。。。）又大笑。。。。。 
  说一下垃圾回收吧？巴拉巴拉，主要讲了G1和ZGC，说了看了ZGC[源码]()，这部分讲得较多，说了有十分钟，然后他就没继续问！！！ 
 了解啥消息中间件？答：kafka。说一下kafka和其他MQ的对比 
 kafka的零拷贝说一下？（表示没看过）又遭一波大笑 
 说一下kafka怎么保证消息一致性的？（ISR机制的一波讲），你这是生产端，消费端怎么保证的？加加加锁？果不其然，大笑。。。。 
  一个leader 宕机了，怎么选取的新的leader（zk选取controller，然后raft[算法]()选取leader） 
 你们实习公司为什么用kafka？上游数据请求大，缓解下游ES压力 
 你们实习公司的用的ES？为什么用ES？不用mybatis？（我哪知道。。。。你问公司技术总监啊。。） 
 还知不知道其他的一些中间件或者开源框架？（不了解了。。） 

 

  **反问**：哪些知识点还需要巩固 
 基础知识还OK，需要提升一下整体架构能力，眼界要拓宽一些。 
 还给我打了个比方，你去银行当柜员，你不想知道银行金库么？。。。。。。（我。。。）然后一阵爽朗的笑声 
 一开始说好问1~1.5小时，结果大概问了我2个多小时 
 全程轻松愉快，让我意识到自己很多知识盲区 
 大厂公司真的太挑战了，真是打破砂锅问到底。而且是一般表面问题，常见问题不问，每个问题都直指底层核心，往祖坟那刨 
 面试官人不错的，面试搞得和兄弟聊天一样，不，感觉就像大哥在教育无知的小弟，“小老弟，你这还有待加强啊” 
  一场面试下来，真的把我榨干了，会的全说了，不会的是真没办法。看了这么多[面经]()，背了这么多题，还遇到一堆没听过的知识点，无力感满满~~~ 
 加油吧，打不死的小强

补充：问了红黑树，为什么用红黑树不用AVL？
类加载的过程，涉及到双亲委派
你知道有些地方需要打破双亲委派么？（不知道。。。）
跳表知道么？给我讲一下吧
OSGI知道么？（没听过。。。）
数据结构算法方面：讲一下动态规划和贪心算法？（说了原理，和应用场景）
贪心算法怎么 实现的呢？可以用动态规划实现么 ？（这部分答得不好，没准备过）      

##  菜鸟

http 协议 转 dubbo 协议 怎么做的
dubbo 的架构设计说一下
mq 通知时，消费者没消费到怎么办
redis 是单线程了吗？有什么好处
一般设置过期时间吗，业务场景有哪些，过期策略有哪些
redis 持久化了解不,你们线上怎么用的
你们线上为什么这么用？只用AOF行不行

**二面**

抽象类和接口你倾向用哪个？什么场景下用抽象类
如何更好的实现一个单例
synchronized 和 lock 区别
公平锁和非公平锁
怎么实现自定注解
类加载机制
如何实现自己的classloader
如何动态加载类
如何触发full gc
用jvm命令如何触发

了解过netty吗
微服务了解过吗，Service Mesh呢
五亿数据，找出数量top100
10G数据，在内存小于10G如何分片
分片处理完如何汇总
分布在多个节点上如何汇总
哈希取模如何哈希？哈希冲突怎么办？能完全解决哈希冲突吗
数据库乐观锁和悲观锁
秒杀系统如何设计？
redis分布式锁如何玩？超时时间如何设置
zk的监听原理，你来实现你怎么做
主动推送怎么实现

## 三面

消息如何保证一定被消费，如何没有消费到怎么办
Redis 怎么保证不丢数据，能不能保证严格意义的一定不会丢
Redis 集群，生产环境Redis 如何做数据迁移
一致性hash算法
数据库是怎么保证一定不会丢失数据的
浏览器敲入一个域名，尽可能详情的说下接下来网络协议层面发生了什么
了解过哪些锁，volatile 说下

### 四面

四面是一个看起来非常平易近人的大叔，全程微笑和我聊天，没有一点架子，应该是 `Team Leader`。

整个过程没有聊技术细节，主要聊了一些技术的方向，业务的理解，过往的经历。整个过程还是聊的很愉快的。

遗憾的是最后还是没通过面试，我觉得原因主要如下

1. 面试阿里过于匆忙，没有做好准备，也没有先拿小公司练手
2. 基础知识仍有欠缺，例如网络协议和算法一直都是我的弱项
3. 因为一直在传统企业，缺乏互联网项目实战经验，虽然自己看过许多这方面的知识，知识广度还算可以，但更多是纸上谈兵，缺乏实践
4. 四面时自己犯了一个严重的错误，因为面试官属于比较和气且聊得来的类型，导致我在聊天的过程中过于随意，说话没有做到有的放矢，该说的不该说的都说了，给人一种过于浮躁的感觉。

## https://blog.csdn.net/python8989/article/details/107394480

1. 个人介绍加项目介绍20分钟
2. 微服务架构是什么，它的优缺点？
3. ACID CAP BASE理论
4. 分布式一致性协议，二段、三段、TCC，优缺点
5. RPC过程
6. 服务注册中心宕机了怎么办？
7. 微服务还有其他什么组件
8. 分布式架构与微服务的关系
9. 你有什么问题要问我的。

## 

1. 各种排序算法、未排序常规数据查找第K大的数，时间复杂度。
2. 二叉树的深度

1. 虚拟内存分页了解不？
2. 进程和线程区别？

1. 一个表一千个列值为true和false，写sql 查询 有300个列值为true的行。
2. 脏读和幻读是什么？

1. 什么对象会从新生代晋升到老年代

1. 一个任务分成十个任务，最后汇总计算，不能用fork/join
2. 开源框架源码了解不？
3. 数据建模两道、个人题开放性题

1. 对安全方面了解多少？
2. 安全协议有哪些 、https是啥？

1. 从ConcurrentHashMap一路问到锁&锁优化->LongAdder->伪共享->缓存行填充->cas等诸多技术细节；
2. 从hystrix一路问到原理->自己如何实现->如何优化->响应流编程(reactive streams);
3. 从简单的生产者消费者模式设计到如何高效健壮实现等等。

1. 如何倒序输出单向链表？
2. 个人直接想法是用栈先进后出的特点，把链表数据读到栈里然后输出。
3. 有更好的实现方式吗？
4. 主要问项目情况，然后根据一个项目，问如果量级扩大1000倍，你会怎么做？有哪些优化措施？高性能&高可用措施？

1. 个人的职业规划是什么
2. 你遇到的最大问题或者是困难是什么
3. 你如何看待阿里
4. 你能为阿里带来什么
5. 你的优缺点是什么