### 0.带着问题学习

当我们给表建索引的时候,mysql内部发生了什么呢?

如果有多个索引,数据是如何存储的呢?

## 1.我们用什么数据结构来保存索引呢?

如果我们用数组

如果我们用二叉树

如果我们用n叉树

B和B+树

为什么要了解索引的模型呢?分析问题的时候会有一个更清晰的视角.体会mysql引擎设计的精妙

索引是在存储引擎层实现的.

## Innodb的索引模型

在innodb里,表都是根据主键的顺序以索引的形式存放的,这种存储方式的表称为索引组织表.innodb使用了B+树索引模型,索引数据都是存储在B+树中的.

每一个索引在Innodb里都对应一个B+树.

### 主键索引和非主键索引

主键索引的叶子节点存的是**整行数据**.主键索引也叫聚簇索引.

非主键索引的叶子节点的内容是主键的值.非主键索引也叫二级索引.

**基于主键索引和普通索引的查询有什么区别?**

```sql
也就是说，基于非主键索引的查询需要多扫描一棵索引树。因此，我们在应用中应该尽量使用主
键查询。
```

参考:

mysql实战

innodb存储引擎